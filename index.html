<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Bucin Interaktif ğŸ’•</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  height: 100vh;
  background: linear-gradient(135deg, #ff5f8f, #ff9a9e);
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: system-ui;
  overflow: hidden;
  color: white;
}

.scene { perspective: 1000px; }

.text3d {
  font-size: 2.6em;
  font-weight: 800;
  text-align: center;
  transform-style: preserve-3d;
  animation: appear .7s cubic-bezier(.2,.8,.2,1);
  text-shadow:
    1px 1px 0 #e6004c,
    2px 2px 0 #d60047,
    3px 3px 0 #c60042,
    4px 4px 10px rgba(0,0,0,.4);
}

@keyframes appear {
  from {
    transform: translateZ(-80px) rotateX(25deg);
    opacity: 0;
  }
  to {
    transform: translateZ(0) rotateX(0);
    opacity: 1;
  }
}

.hint {
  position: absolute;
  bottom: 18px;
  font-size: .85em;
  opacity: .85;
  text-align: center;
}

.start-btn {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.35);
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 1.4em;
  font-weight: bold;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="scene">
  <div id="text" class="text3d">Tap untuk mulai ğŸ’•</div>
</div>

<div class="hint">
  ğŸ“± Shake HP<br>
  ğŸ™ï¸ Ucap: â€œlanjutâ€ / â€œsayangâ€
</div>

<div id="start" class="start-btn">ğŸ’— MULAI ğŸ’—</div>

<!-- ğŸµ MUSIK ROMANTIS -->
<audio id="music" loop>
  <!-- GANTI LINK INI JIKA MAU -->
  <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_9c6a8f2b5a.mp3" type="audio/mpeg">
</audio>

<script>
const slides = [
  "Hai Sayangku ğŸ’•",
  "Aku Sayang Sama Kamu ğŸ¥°",
  "Kamu itu rumahku ğŸ¡â¤ï¸",
  "Aku selalu di sini ğŸ¤",
  "Terima kasih sudah ada ğŸŒ¹"
];

let index = 0;
let lastAction = 0;
const COOLDOWN = 1200;
let started = false;

// ===== GANTI SLIDE =====
function nextSlide() {
  const now = Date.now();
  if (now - lastAction < COOLDOWN) return;

  index = (index + 1) % slides.length;
  const el = document.getElementById("text");
  el.style.animation = "none";
  el.offsetHeight;
  el.style.animation = "appear .7s cubic-bezier(.2,.8,.2,1)";
  el.innerText = slides[index];
  lastAction = now;

  if (navigator.vibrate) navigator.vibrate(40);
}

// ===== SHAKE =====
window.addEventListener("devicemotion", e => {
  if (!started) return;
  const a = e.accelerationIncludingGravity;
  if (!a) return;

  const mag = Math.sqrt(a.x*a.x + a.y*a.y + a.z*a.z);
  if (mag > 26) nextSlide();
});

// ===== VOICE =====
let rec;
function startVoice() {
  const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
  if (!SR) return;

  rec = new SR();
  rec.lang = "id-ID";
  rec.continuous = true;

  rec.onresult = e => {
    const text = e.results[e.results.length - 1][0].transcript.toLowerCase();
    if (text.includes("lanjut") || text.includes("sayang") || text.includes("next")) {
      nextSlide();
    }
  };

  rec.start();
}

// ===== START =====
document.getElementById("start").onclick = () => {
  if (started) return;
  started = true;

  document.getElementById("start").style.display = "none";
  document.getElementById("text").innerText = slides[0];

  document.getElementById("music").play();
  startVoice();
};
</script>

</body>
</html>
